var EDM=window.EDM||{};EDM.jsonp=function(a){"use strict";function b(a){var b=document.createElement("script");return b.setAttribute("type","text/javascript"),b.setAttribute("async",!0),b.setAttribute("src",a),b}var c=0,d=document.head||document.getElementsByTagName("head")[0];return function(e){function f(){m&&m.parentNode.removeChild(m),clearTimeout(j),delete a[k]}function g(a){"function"==typeof e.success&&e.success(a)}function h(a){"function"==typeof e.error&&e.error(a)}function i(b){f(),"timeout"===b&&(a[k]=function(){}),h(b)}e=e||{};var j,k="callback"+ ++c,l=e.url+"&callback=EDM."+k+(e.cache?"":"&_dc="+(new Date).getTime()),m=b(l);a[k]=function(a){f(),g(a)},m.onerror=function(){i("error")},d.appendChild(m),e.timeout>0&&(j=setTimeout(function(){i("timeout")},e.timeout))}}(EDM),function(a){"use strict";var b=a.EDM=a.EDM||{};b.Observable=function(){function a(a,b,c){if("string"!=typeof a||0===a.length)throw new Error("The event name must be a string and not be empty.");if("function"!=typeof b)throw new Error("The callback must be a function.");(d[a]||(d[a]=[])).push({callback:b,context:c})}function b(a){return"string"!=typeof a||0===a.length?(d={},this):void(d[a]=[])}function c(a){var b,c,f,g,h;if(a&&d[a])for(b=e.call(arguments,1),c=d[a],f=c.length,g=0;f>g;g++)h=c[g],h.callback.apply(h.context,b)}var d={};return function(){return this.on=a,this.off=b,this.trigger=c,this}}(),function(){var a=b.Util={},c=Array.prototype,d=Function.prototype,e=Object.prototype,f=e.hasOwnProperty,g=d.bind,h=Array.isArray,i=c.indexOf,j=c.slice,k=e.toString;a.bind=function(a,b){return a.bind===g&&g?g.apply(a,j.call(arguments,1)):function(){return a.apply(b,j.call(arguments))}},a.contains=function(b,c){var d,e;if(!a.isArray(b))return!1;if(i&&b.indexOf)return-1!==b.indexOf(c);for(d=0,e=b.length;e>d;d++)if(b[d]===c)return!0;return!1},a.extend=function(a){var b,c,d,e=j.call(arguments,1),g=e.length;for(b=0;g>b;b++){c=e[b];for(d in c)f.call(c,d)&&(a[d]=c[d])}return a},a.isArray=h||function(a){return"[object Array]"===k.call(a)},a.isEmpty=function(a){var b;for(b in a)if(f.call(a,b))return!1;return!0},a.renderSelectOptions=function(b,c,d,e,f){var g,h,i,j,k=document.createDocumentFragment();if(b.innerHTML&&(b.innerHTML=""),d&&(j=document.createElement("option"),j.innerHTML=d,j.setAttribute("value",""),b.appendChild(j)),e===!0){for(g in c)h=document.createElement("optgroup"),h.setAttribute("label",g),i=a.renderSelectOptions(h,c[g]),k.appendChild(h);return b.appendChild(k),b}if(f===!0)for(var l=0;l<c.length;l++)j=document.createElement("option"),j.setAttribute("value",c[l][0]),j.innerHTML=c[l][1],k.appendChild(j);else for(g in c)j=document.createElement("option"),j.setAttribute("value",g),j.innerHTML=c[g],k.appendChild(j);return b.appendChild(k),b},a.renderTemplate=function(a,b,c){var d,e,f,g,h,i=c?/\{\{\s+\w+\s+\}\}/gi:/<%=\s+\w+\s+%>/gi,j=c?/\{\{\s+|\s+\}\}/gi:/^<%=\s+|\s+%>$/gi;if("string"!=typeof a)throw new Error("template must be a string");if(0===a.length||!b)return a;if(b=b||{},d=a.match(i),g=null!==d?d.length:0,0===g)return a;for(f=0;g>f;f++)e=d[f],h=e.replace(j,""),a=a.replace(e,b[h]);return a}}();var c,d=b.Util,e=Array.prototype.slice,f=b.Widget=function(){function a(a,d){if("string"!=typeof a)throw new Error("The API key must be a string.");if(b=a,this.setOptions(d),c=f.baseClass||"",e="edm"+(new Date).getTime(),g=document.getElementById(f.root),null===g)throw new Error("The root element was not found.");g.className=c}var b,c,e,f,g;this.getApiKey=function(){return b},this.getBaseClass=function(){return c},this.getBaseId=function(){return e},this.getOptions=function(){return d.extend({},f)},this.getRootElement=function(){return g},this.setOptions=function(a){f=d.extend({},f,a)},a.apply(this,arguments)};c=f.prototype,c.destroy=function(){var a=this.getRootElement();null!==a&&a.remove()},b.Observable.call(c)}(this);